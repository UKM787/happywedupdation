"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8582],{58582:(t,e,i)=>{i.r(e),i.d(e,{default:()=>n});const a={data:function(){return{articles:[],article:{id:"",title:"",body:""},article_id:"",pagination:{},edit:!1}},created:function(){this.fetchArticles()},methods:{fetchArticles:function(t){var e=this,i=this;t=t||"/api/articles",fetch(t).then((function(t){return t.json()})).then((function(t){e.articles=t.data,i.makePagination(t.meta,t.links)})).catch((function(t){return console.log(t)}))},makePagination:function(t,e){var i={current_page:t.current_page,last_page:t.last_page,next_page_url:e.next,prev_page_url:e.prev};this.pagination=i},deleteArticle:function(t){var e=this;confirm("Are You Sure?")&&fetch("api/article/".concat(t),{method:"delete"}).then((function(t){return t.json()})).then((function(t){alert("Article Removed"),e.fetchArticles()})).catch((function(t){return console.log(t)}))},addArticle:function(){var t=this;!1===this.edit?fetch("api/article",{method:"post",body:JSON.stringify(this.article),headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.clearForm(),alert("Article Added"),t.fetchArticles()})).catch((function(t){return console.log(t)})):fetch("api/article",{method:"put",body:JSON.stringify(this.article),headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){t.clearForm(),alert("Article Updated"),t.fetchArticles()})).catch((function(t){return console.log(t)}))},editArticle:function(t){this.edit=!0,this.article.id=t.id,this.article.article_id=t.id,this.article.title=t.title,this.article.body=t.body},clearForm:function(){this.edit=!1,this.article.id=null,this.article.article_id=null,this.article.title="",this.article.body=""}}};const n=(0,i(51900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v("Articles")]),t._v(" "),e("form",{staticClass:"mb-3",on:{submit:function(e){return e.preventDefault(),t.addArticle.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.article.title},on:{input:function(e){e.target.composing||t.$set(t.article,"title",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.article.body,expression:"article.body"}],staticClass:"form-control",attrs:{placeholder:"Body"},domProps:{value:t.article.body},on:{input:function(e){e.target.composing||t.$set(t.article,"body",e.target.value)}}})]),t._v(" "),e("button",{staticClass:"btn btn-light btn-block",attrs:{type:"submit"}},[t._v("Save")])]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-block",on:{click:function(e){return t.clearForm()}}},[t._v("Cancel")]),t._v(" "),e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.prev_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.fetchArticles(t.pagination.prev_page_url)}}},[t._v("Previous")])]),t._v(" "),e("li",{staticClass:"page-item disabled"},[e("a",{staticClass:"page-link text-dark",attrs:{href:"#"}},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),t._v(" "),e("li",{staticClass:"page-item",class:[{disabled:!t.pagination.next_page_url}]},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.fetchArticles(t.pagination.next_page_url)}}},[t._v("Next")])])])]),t._v(" "),t._l(t.articles,(function(i){return e("div",{key:i.id,staticClass:"card card-body mb-2"},[e("h3",[t._v(t._s(i.title))]),t._v(" "),e("p",[t._v(t._s(i.body))]),t._v(" "),e("hr"),t._v(" "),e("button",{staticClass:"btn btn-warning mb-2",on:{click:function(e){return t.editArticle(i)}}},[t._v("Edit")]),t._v(" "),e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteArticle(i.id)}}},[t._v("Delete")])])}))],2)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=8582.js.map